const data = 	[
    {
        "Grado": 8,
        "Nombre": "MARCELO FABIAN MOREIRA VIERA",
        "C.I": "42007529"
    },
    {
        "Grado": 8,
        "Nombre": "FERNANDO ANDRES CABALLERO REAL",
        "C.I": "29760085"
    },
    {
        "Grado": 7,
        "Nombre": "KELLY DE LOS SANTOS",
        "C.I": "45289211"
    },
    {
        "Grado": 6,
        "Nombre": "JUAN MARTIN DE LEON CUSTODIO",
        "C.I": "46388533"
    },
    {
        "Grado": 5,
        "Nombre": "LUZ INES JEFFREY FERREIRA",
        "C.I": "43884750"
    },
    {
        "Grado": 5,
        "Nombre": "RODRIGO ALEJANDRO JUBIN CASTILLO",
        "C.I": "50703169"
    },
    {
        "Grado": 5,
        "Nombre": "FACUNDO LORENZO DIAZ FERREIRA",
        "C.I": "50005282"
    },
    {
        "Grado": 5,
        "Nombre": "JUAN ANTONIO MONTERO SARACHAGA",
        "C.I": "49683792"
    },
    {
        "Grado": 5,
        "Nombre": "AGUSTIN ALEXIS PIRIZ TRAPOTE",
        "C.I": "51745994"
    },
    {
        "Grado": 5,
        "Nombre": "CARLOS FEDERICO SALMENTON PACHIAROTTI",
        "C.I": "50817079"
    },
    {
        "Grado": 4,
        "Nombre": "ROBERT DANIEL DE LEON DELGADO",
        "C.I": "30518617"
    },
    {
        "Grado": 4,
        "Nombre": "Francisco Javier BARBOZA HAUBMAN",
        "C.I": "50290879"
    },
    {
        "Grado": 4,
        "Nombre": "DARIO ALEJANDRO ARAUJO CALERO",
        "C.I": "34331386"
    },
    {
        "Grado": 3,
        "Nombre": "EDUARDO MARCELO IROLDI AMARILLA",
        "C.I": "26709795"
    },
    {
        "Grado": 3,
        "Nombre": "RODRIGO SEBASTIAN BEGUIRISTAIN RIOS",
        "C.I": "47778943"
    },
    {
        "Grado": 3,
        "Nombre": "MARCELO ANDRES LEONE OTORMIN",
        "C.I": "30775764"
    },
    {
        "Grado": 3,
        "Nombre": "NESTOR EDGARDO REYES ACOSTA",
        "C.I": "25464285"
    },
    {
        "Grado": 3,
        "Nombre": "PAULINO JAVIER VIDAL URRETA",
        "C.I": "38221119"
    },
    {
        "Grado": 2,
        "Nombre": "LUCIO CAETANO CABALLERO PIRIZ",
        "C.I": "42263854"
    },
    {
        "Grado": 2,
        "Nombre": "MIGUEL ANGEL MEDINA GARCIA",
        "C.I": "30516562"
    },
    {
        "Grado": 2,
        "Nombre": "ADRIAN FRANCISCO TERRA IGNACIO",
        "C.I": "35851383"
    },
    {
        "Grado": 2,
        "Nombre": "ALEXANDER ANDRES POMBO BEROIS",
        "C.I": "51425055"
    },
    {
        "Grado": 2,
        "Nombre": "JUAN MARTIN MERLO PEREZ",
        "C.I": "35667198"
    },
    {
        "Grado": 2,
        "Nombre": "ALBERTO GABRIEL NOBLE LEMOS",
        "C.I": "35508534"
    },
    {
        "Grado": 2,
        "Nombre": "ESTEBAN DANIEL MURCHIO HERNANDEZ",
        "C.I": "47554442"
    },
    {
        "Grado": 2,
        "Nombre": "MATHIAS CONO MAZZETTI SALAZAR",
        "C.I": "48681533"
    },
    {
        "Grado": 2,
        "Nombre": "JAVIER DARIO DANGELO BARTOLOTTA",
        "C.I": "40847246"
    },
    {
        "Grado": 2,
        "Nombre": "LUIS FERNANDO RODRIGUEZ SENI",
        "C.I": "46688294"
    },
    {
        "Grado": 2,
        "Nombre": "MARCOS GABRIEL RODRIGUEZ RECCIOPPE",
        "C.I": "44291681"
    },
    {
        "Grado": 2,
        "Nombre": "BRIAN NICOLAS LOPEZ DALUZ",
        "C.I": "43805857"
    },
    {
        "Grado": 2,
        "Nombre": "DANILO MARIO GALLERO TORRES",
        "C.I": "43951723"
    },
    {
        "Grado": 2,
        "Nombre": "MARCOS CESAR LIMA ROYANO",
        "C.I": "45049118"
    },
    {
        "Grado": 2,
        "Nombre": "FERNANDO GASTON MEDEROS MAIDANA",
        "C.I": "42831990"
    },
    {
        "Grado": 2,
        "Nombre": "ENZO JAVIER FERRAZ QUIROGA",
        "C.I": "17930535"
    },
    {
        "Grado": 2,
        "Nombre": "JOSE MARIA AMARILLO",
        "C.I": "26066139"
    },
    {
        "Grado": 2,
        "Nombre": "LEONARDO FABIAN ZULUETA CALISIOTTI",
        "C.I": "46485129"
    },
    {
        "Grado": 2,
        "Nombre": "DILAN RECALDE REMEDIOS",
        "C.I": "54531427"
    },
    {
        "Grado": 2,
        "Nombre": "ANA KARINA PIRIZ TIRON",
        "C.I": "34286298"
    },
    {
        "Grado": 2,
        "Nombre": "LUIS ALFREDO BAES FERNANDEZ",
        "C.I": "48561858"
    },
    {
        "Grado": 2,
        "Nombre": "CRISTIAN DANIEL OLIVERA GONZALEZ",
        "C.I": "49460869"
    },
    {
        "Grado": 2,
        "Nombre": "ANDREE MICHAEL SENA MOLLO",
        "C.I": "34707765"
    },
    {
        "Grado": 2,
        "Nombre": "ARIEL VICTOR SILVA LAPORTA",
        "C.I": "39736793"
    },
    {
        "Grado": 2,
        "Nombre": "VERONICA INES YANIBELLI GARCIA",
        "C.I": "45148962"
    },
    {
        "Grado": 2,
        "Nombre": "IGNACIO GERVASINI",
        "C.I": "52202656"
    },
    {
        "Grado": 2,
        "Nombre": "BRUNO MAXIMILIANO MAGALLAN JORAJURA",
        "C.I": "46147345"
    },
    {
        "Grado": 2,
        "Nombre": "Jonatan Nahuel VICENTE DOMINGUEZ",
        "C.I": "53217315"
    },
    {
        "Grado": 2,
        "Nombre": "PABLO CRISTINO FAGUNDEZ",
        "C.I": "46381648"
    },
    {
        "Grado": 2,
        "Nombre": "LUCAS SEBASTIAN ALMEIDA LOPEZ",
        "C.I": "54428276"
    },
    {
        "Grado": 2,
        "Nombre": "Facundo Agustin MURAÑA RIVERO",
        "C.I": "498495721"
    },
    {
        "Grado": 1,
        "Nombre": "JONATHAN NOEL PINATO COLMAN",
        "C.I": "50912231"
    },
    {
        "Grado": 1,
        "Nombre": "ATANASILDO PEREZ CAMPO",
        "C.I": "26234590"
    },
    {
        "Grado": 1,
        "Nombre": "MARTIN ENRIQUE MUNIZ CASTRO",
        "C.I": "44604377"
    },
    {
        "Grado": 1,
        "Nombre": "ALFREDO ENRIQUE OLIVERA BAZAN",
        "C.I": "41835490"
    },
    {
        "Grado": 1,
        "Nombre": "GONZALO PEREZ SANCHEZ",
        "C.I": "50717970"
    },
    {
        "Grado": 1,
        "Nombre": "CAMILO PROTTI",
        "C.I": "50668284"
    },
    {
        "Grado": 1,
        "Nombre": "FEDERICO NICOLAS BENITEZ SILVERA",
        "C.I": "51100718"
    },
    {
        "Grado": 1,
        "Nombre": "CESAR GOMEZ BORDAGORRY",
        "C.I": "50724539"
    },
    {
        "Grado": 1,
        "Nombre": "JUAN GONZALEZ",
        "C.I": "55147041"
    },
    {
        "Grado": 1,
        "Nombre": "ALFREDO DAVID PEREYRA SIERRA",
        "C.I": "52466052"
    },
    {
        "Grado": 1,
        "Nombre": "NICOLAS LEONEL DIAZ MUÑOZ",
        "C.I": "46759837"
    },
    {
        "Grado": 1,
        "Nombre": "RODOLFO RAMON DENIZ MARCENAL",
        "C.I": "39989437"
    },
    {
        "Grado": 1,
        "Nombre": "ALEXANDER FACUNDO ROLANDE SOUZA",
        "C.I": "51550181"
    },
    {
        "Grado": 1,
        "Nombre": "DIEGO ABEL SILVEIRA AREVALO",
        "C.I": "46518285"
    },
    {
        "Grado": 1,
        "Nombre": "ANDRES BLECICH",
        "C.I": "55086150"
    },
    {
        "Grado": 1,
        "Nombre": "CHRISTIAN ALEXIS FERNANDEZ GARCIA",
        "C.I": "46736566"
    },
    {
        "Grado": 1,
        "Nombre": "Maximiliano Ezequiel MEDINA MONTES",
        "C.I": "48732023"
    },
    {
        "Grado": 1,
        "Nombre": "MICHAEL BERMUDEZ",
        "C.I": "54021822"
    },
    {
        "Grado": 1,
        "Nombre": "VALENTINA NUÑEZ CHALART",
        "C.I": "46014308"
    },
    {
        "Grado": 1,
        "Nombre": "MATIAS CARRION DIAZ",
        "C.I": "53645580"
    },
    {
        "Grado": 1,
        "Nombre": "FEDERICO VINCENT BUVE MARICHAL",
        "C.I": "46789654"
    },
    {
        "Grado": 1,
        "Nombre": "EDUARDO DARIO FARIAS PERDOMO",
        "C.I": "53268198"
    },
    {
        "Grado": 1,
        "Nombre": "JONATHAN DANIEL MARQUEZ MARQUEZ",
        "C.I": "52059354"
    },
    {
        "Grado": 1,
        "Nombre": "PABLO MARTIN PEREIRA PEREIRA",
        "C.I": "50482771"
    },
    {
        "Grado": 1,
        "Nombre": "WASHINGTON ALEXANDER PIÑEIRO FERRO",
        "C.I": "53471777"
    },
    {
        "Grado": 1,
        "Nombre": "MARXIO WILMAR CABRERA SMITH",
        "C.I": "48057928"
    },
    {
        "Grado": 1,
        "Nombre": "Marcos Nahuel RECONDO REYES",
        "C.I": "51051367"
    },
    {
        "Grado": 1,
        "Nombre": "LUCAS GASPARIK ARADA",
        "C.I": "55087853"
    },
    {
        "Grado": 1,
        "Nombre": "CHRISTIAN EDUARDO CASTRO PEREZ",
        "C.I": "53266134"
    },
    {
        "Grado": 1,
        "Nombre": "DIEGO EZEQUIEL ROVIRA MACHADO",
        "C.I": "49694852"
    },
    {
        "Grado": 1,
        "Nombre": "CAMILA VAZLLAGUNO",
        "C.I": "49473256"
    },
    {
        "Grado": 1,
        "Nombre": "MARIA ALEJANDRA ESTEVEZ RAMOS",
        "C.I": "48901858"
    },
    {
        "Grado": 1,
        "Nombre": "GIAN GIACOBONI",
        "C.I": "48626212"
    },
    {
        "Grado": 1,
        "Nombre": "PABLO GERMAN NICOLAS RODRIGUEZ",
        "C.I": "51112054"
    },
    {
        "Grado": 1,
        "Nombre": "VICTOR IVAN FARIAS FERREIRA",
        "C.I": "49132038"
    },
    {
        "Grado": 1,
        "Nombre": "STEFANIA ABANONI",
        "C.I": "45815147"
    },
    {
        "Grado": 1,
        "Nombre": "EMILIANO FORLANO GONZALEZ",
        "C.I": "51015377"
    },
    {
        "Grado": 1,
        "Nombre": "MARIA VICTORIA RODRIGUEZ DIAZ",
        "C.I": "47328241"
    },
    {
        "Grado": 1,
        "Nombre": "EDUARD MARTIN ALMEIDA GONZALEZ",
        "C.I": "51458705"
    },
    {
        "Grado": 1,
        "Nombre": "CRISTIAN EMANUEL MARTINEZ MENYOU",
        "C.I": "52852631"
    },
    {
        "Grado": 1,
        "Nombre": "RODRIGO PEREZ CORREA",
        "C.I": "50998132"
    },
    {
        "Grado": 1,
        "Nombre": "LUCIA PEREZ CASTRO",
        "C.I": "54064779"
    },
    {
        "Grado": 1,
        "Nombre": "BRUNO ARIAS SUAREZ",
        "C.I": "52396322"
    },
    {
        "Grado": 1,
        "Nombre": "MATHIAS ABREU ESPOSITO",
        "C.I": "47323207"
    },
    {
        "Grado": 1,
        "Nombre": "JULIA MARIA de ARMAS QUIMBO",
        "C.I": "50316508"
    },
    {
        "Grado": 1,
        "Nombre": "ROBERTO MARTIN BALADAN TEJEDOR",
        "C.I": "38806290"
    },
    {
        "Grado": 1,
        "Nombre": "ANA CAROLINA BRAZ FERNANDEZ",
        "C.I": "52639980"
    },
    {
        "Grado": 1,
        "Nombre": "RUBEN DAVID COCOREL DE LOS SANTOS",
        "C.I": "53261582"
    },
    {
        "Grado": 1,
        "Nombre": "PABLO JAVIER CORREA CORRALES",
        "C.I": "49447883"
    },
    {
        "Grado": 1,
        "Nombre": "ANGIE LORELEY DA ROSA MACEDO",
        "C.I": "543412221"
    },
    {
        "Grado": 1,
        "Nombre": "EZEQUIEL ISAIAS DOS SANTOS DE LOS SANTOS",
        "C.I": "54223636"
    },
    {
        "Grado": 1,
        "Nombre": "BRANDON NAHUEL EMANUELE FERRADA",
        "C.I": "54773471"
    },
    {
        "Grado": 1,
        "Nombre": "SEBASTIAN FRANCIA",
        "C.I": "52894073"
    },
    {
        "Grado": 1,
        "Nombre": "MACARENA GARCILAZO",
        "C.I": "49893818"
    },
    {
        "Grado": 1,
        "Nombre": "KATYA NICOL GOMEZ INZAURRALDE",
        "C.I": "51077298"
    },
    {
        "Grado": 1,
        "Nombre": "JUAN IGNACIO GONZALEZ BLANCO",
        "C.I": "55147041"
    },
    {
        "Grado": 1,
        "Nombre": "GERARDO MARTIN GONZALEZ CALDERON",
        "C.I": "49967425"
    },
    {
        "Grado": 1,
        "Nombre": "ALBERTO GERMAN GONZALEZ CHIRICO",
        "C.I": "53846083"
    },
    {
        "Grado": 1,
        "Nombre": "ROMINA MICAEL GONZALEZ RIVERO",
        "C.I": "54902000"
    },
    {
        "Grado": 1,
        "Nombre": "ALFONSO MATIAS GUTIERREZ ALDERETE",
        "C.I": "47290458"
    },
    {
        "Grado": 1,
        "Nombre": "ALEX DANIEL LATORRE COLMAN",
        "C.I": "49107772"
    },
    {
        "Grado": 1,
        "Nombre": "FLORENCIA ESTEFANIA MACHADO GOMEZ",
        "C.I": "55284015"
    },
    {
        "Grado": 1,
        "Nombre": "DIEGO IGNACIO MILICHI VARGAS",
        "C.I": "49423223"
    },
    {
        "Grado": 1,
        "Nombre": "EMANUEL MOLINÉ SUAREZ",
        "C.I": "54148072"
    },
    {
        "Grado": 1,
        "Nombre": "CECILIA BELEN MORALES PICARDO",
        "C.I": "53557896"
    },
    {
        "Grado": 1,
        "Nombre": "RYAN MICHAEL NAVAS ROSAS",
        "C.I": "53216117"
    },
    {
        "Grado": 1,
        "Nombre": "CRISTIAN FEDERICO NEVES RODRIGUEZ",
        "C.I": "51033052"
    },
    {
        "Grado": 1,
        "Nombre": "DIEGO NICOLAS OLIVERA SILVEIRA",
        "C.I": "53593375"
    },
    {
        "Grado": 1,
        "Nombre": "DIEGO MARTIN PAMPILLON PEREYRA",
        "C.I": "53677151"
    },
    {
        "Grado": 1,
        "Nombre": "ANDRES ALEIS PERDOMO LORENZO",
        "C.I": "48702115"
    },
    {
        "Grado": 1,
        "Nombre": "SILVIO MAURICIO PEREIRA PINTOS",
        "C.I": "51019157"
    },
    {
        "Grado": 1,
        "Nombre": "EMELY ESTEFANY PEREYRA SILVA",
        "C.I": "53455551"
    },
    {
        "Grado": 1,
        "Nombre": "GABRIEL ALEJANDRO PRETO SANDOVAL",
        "C.I": "47584388"
    },
    {
        "Grado": 1,
        "Nombre": "CAMILO ALFONSO PROTTI GODIÑO",
        "C.I": "50668284"
    },
    {
        "Grado": 1,
        "Nombre": "CYNTHIA BELEN RAMOS PACHECO",
        "C.I": "54287038"
    },
    {
        "Grado": 1,
        "Nombre": "SABRINA SOLEDAD RAMOS TORRES",
        "C.I": "46603143"
    },
    {
        "Grado": 1,
        "Nombre": "BRUNO MAURICIO RIBEIRO SEVERO",
        "C.I": "51776442"
    },
    {
        "Grado": 1,
        "Nombre": "JOEL RODRIGUEZ ABELLAN",
        "C.I": "54003749"
    },
    {
        "Grado": 1,
        "Nombre": "GUSTAVO DANIEL RODRIGUEZ ACOSTA",
        "C.I": "48836673"
    },
    {
        "Grado": 1,
        "Nombre": "RICHARD MAXIMILIANO RODRIGUEZ ESTEVEZ",
        "C.I": "48740567"
    },
    {
        "Grado": 1,
        "Nombre": "FIAMA ALEJANDRA RODRIGUEZ FERREIRA",
        "C.I": "52595281"
    },
    {
        "Grado": 1,
        "Nombre": "LEONARDO SANTIAGO RODRIGUEZ FONSECA",
        "C.I": "49229386"
    },
    {
        "Grado": 1,
        "Nombre": "ISAIAS RODRIGUEZ RODRIGUEZ",
        "C.I": "54905977"
    },
    {
        "Grado": 1,
        "Nombre": "FEDERICO ANDRES SALVARREY VAZQUEZ",
        "C.I": "53843677"
    },
    {
        "Grado": 1,
        "Nombre": "ALEJANDRO TOBIAS SANCHES CUESTAS",
        "C.I": "51011575"
    },
    {
        "Grado": 1,
        "Nombre": "CAMILA VALERIA SANTOS RODRIGUEZ",
        "C.I": "53408489"
    },
    {
        "Grado": 1,
        "Nombre": "ARIANA SANTURIO GONZALEZ",
        "C.I": "55865849"
    },
    {
        "Grado": 1,
        "Nombre": "EVER EXEQUIEL SOSA PEREIRA",
        "C.I": "51233460"
    },
    {
        "Grado": 1,
        "Nombre": "JOAQUIN NICOLAS TORRES GIMENEZ",
        "C.I": "47167916"
    },
    {
        "Grado": 1,
        "Nombre": "MARTIN EMANUEL VEGA GOMEZ",
        "C.I": "46677770"
    },
    {
        "Grado": 1,
        "Nombre": "ANIBAL ADRIAN VIERA TEJERA",
        "C.I": "51212824"
    },
    {
        "Grado": 1,
        "Nombre": "EDISNON GABRIEL VILLALBA MONZON",
        "C.I": "54223636"
    },
    {
     "Grado":2,
     "Nombre":"LUIS JONATHAN COSTA PAIVA",
     "C.I":"45814911"
},
{
      "Grado":2,
       "Nombre":"BRAULIO ANDRES CEDRES BARRETO",
       "C.I":"42362476"
}


];

const searchInput = document.getElementById('searchInput');
const searchButton = document.getElementById('searchButton');
const searchResults = document.getElementById('searchResults');
const turnoSelect = document.getElementById('turnoSelect');
const movilInput = document.getElementById('movilInput');
const addButton = document.getElementById('addButton');
const guardarButton = document.getElementById('guardarButton');
const addedList = document.getElementById('addedList');
const fechaInput = document.getElementById('fechaInput');
let selectedPerson = null;
let addedPeople = [];

function searchNames() {
    const query = searchInput.value.trim().toUpperCase();
    searchResults.innerHTML = '';
    if (query.length > 0) {
        const results = data.filter(item => item.Nombre && item.Nombre.toUpperCase().includes(query));
        results.forEach(item => {
            const div = document.createElement('div');
            div.textContent = item.Nombre;
            div.onclick = () => selectPerson(item);
            searchResults.appendChild(div);
        });

        if (results.length === 0) {
            searchResults.innerHTML = '<div>No se encontraron resultados</div>';
        }
    }
}

function selectPerson(person) {
    selectedPerson = person;
    searchInput.value = person.Nombre;
    searchResults.innerHTML = '';
    addButton.style.display = 'block';  
    if (!turnoSelect.disabled) return; 

    turnoSelect.disabled = false;
    fechaInput.disabled = false;
}

function getFirstNameAndLastName(fullName) {
    const parts = fullName.split(' ');
    const firstName = parts[0];
    let lastName;

    if (parts.length > 2) {
        lastName = parts.slice(2).join(' ');
    } else {
        lastName = parts.length > 1 ? parts[1] : ''; 
    }

    return { firstName, lastName };
}

function agregarDatos() {
    if (!selectedPerson) {
        alert('Por favor, selecciona un nombre.');
        return;
    }

    const { firstName, lastName } = getFirstNameAndLastName(selectedPerson.Nombre);
    const turno = turnoSelect.value;
    const movil = movilInput.value.trim();
    const fecha = fechaInput.value; 

    if (!fecha) {
        alert('Por favor, selecciona una fecha.');
        return;
    }

    const newEntry = {
        "Grado": selectedPerson.Grado,
        "Nombre": firstName,  
        "Apellido": lastName, 
        "C.I": selectedPerson["C.I"],  
        "Movil": movil,
        "Fecha": fecha,  
        "Turno": turno
    };

    addedPeople.push(newEntry);
    renderAddedList();
    searchInput.value = '';
    searchResults.innerHTML = '';
    movilInput.value = '';
  
    addButton.style.display = 'none';  
    selectedPerson = null; 
}

function renderAddedList() {
    addedList.innerHTML = '';
    addedPeople.forEach((entry, index) => {
        const div = document.createElement('div');
        div.innerHTML = `${entry.Nombre} ${entry.Apellido} - Turno ${entry.Turno} - Móvil ${entry.Movil} - Fecha ${entry.Fecha} <button onclick="removeEntry(${index})" style="width: 80px; height: 30px;">Eliminar</button>`;
        addedList.appendChild(div);
    });
}

function removeEntry(index) {
    addedPeople.splice(index, 1);
    renderAddedList();
}

function sendToGoogleSheets(data) {
    fetch('https://script.google.com/macros/s/AKfycbyyXVxHU88Nk24zHB5SxaAPw1tekO82y19dD8DeJyH-aGdk8nNza4bxkzZNzqIXK-dokw/exec', {
        method: 'POST',
        body: JSON.stringify(data),
        headers: {
            'Content-Type': 'application/json'
        }
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
    })
    .then(result => {
        console.log('Success:', result);
        alert('Datos guardados con éxito!');
    })
    .catch(error => {
        console.error('Error:', error);
        alert('Error al guardar los datos.');
    });
}

function guardarDatos() {
    if (addedPeople.length === 0) {
        alert('No hay datos para guardar.');
        return;
    }

    addedPeople.forEach(entry => {
        const dataToSend = {
            grado: entry.Grado,
            nombre: entry.Nombre,
            apellido: entry.Apellido,
            ci: entry["C.I"],
            movil: entry.Movil,
            fecha: entry.Fecha,
            turno: entry.Turno
        };
        sendToGoogleSheets(dataToSend);
    });
}

searchButton.addEventListener('click', searchNames);
searchInput.addEventListener('input', searchNames); 
addButton.addEventListener('click', agregarDatos);
guardarButton.addEventListener('click', guardarDatos);
